(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t,a){e.exports=a(144)},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),o=(a(107),a(108),a(38)),u=a(19),s=a(21),i=(a(109),a(16)),m=a(10),d=(a(110),function(){return r.a.createElement("footer",null,r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(m.a,{className:"text-center py-3"},"Copyright \xa9 ProStore"))))}),E=(a(111),a(55)),p=a(24),f=a(36),b=a(20),g=a(11),h=a(9),v=a.n(h),O=a(14),S=a(13),y=a.n(S),j=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t,a){var n,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("token")))}},localStorage.removeItem("userInfo"),e.next=5,y.a.get("/api/users/logout",n);case 5:t({type:"USER_LOOUT"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"USER_LOOUT_FAIL",payload:(null===(r=e.t0.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},I=a(8),_=a(4),C=a(15),R=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(I.a)(a,2),c=l[0],o=l[1];return r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},inline:!0},r.a.createElement(_.a.Control,{type:"text",name:"q",value:c,onChange:function(e){return o(e.target.value)},placeholder:"search product...",className:"mr-sm-2 ml-sm-5"}),r.a.createElement(C.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},L=function(){var e=Object(g.c)((function(e){return e.user})).userInfo,t=Object(g.b)();return r.a.createElement("header",null,r.a.createElement(E.a,{variant:"dark",bg:"dark",expand:"lg",collapseOnSelect:!0,sticky:"top"},r.a.createElement(o.a,null,r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement(E.a.Brand,null,"Pro Store")),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(s.d,{render:function(e){var t=e.history;return r.a.createElement(R,{history:t})}}),r.a.createElement(p.a,{className:"ml-auto"},r.a.createElement(b.LinkContainer,{to:"/cart/"},r.a.createElement(p.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart px-1"}),"Cart")),e?r.a.createElement(f.a,{title:e.name,id:"basic-nav-dropdown"},r.a.createElement(b.LinkContainer,{to:"/profile"},r.a.createElement(f.a.Item,null,"My Profile")),r.a.createElement(f.a.Item,{onClick:function(e){e.preventDefault(),t(j())}},"Logout"),r.a.createElement(f.a.Divider,null),r.a.createElement(b.LinkContainer,{to:"/profile"},r.a.createElement(f.a.Item,null,"Other Link"))):r.a.createElement(b.LinkContainer,{to:"/login"},r.a.createElement(p.a.Link,null,r.a.createElement("i",{className:"fas fa-user px-1"}),"Login")),e&&e.isAdmin&&r.a.createElement(f.a,{title:"Config",id:"admin-menu"},r.a.createElement(b.LinkContainer,{to:"/admin/userlist"},r.a.createElement(f.a.Item,null,"Users")),r.a.createElement(b.LinkContainer,{to:"/admin/productlist"},r.a.createElement(f.a.Item,null,"Products")),r.a.createElement(b.LinkContainer,{to:"/admin/orderlist"},r.a.createElement(f.a.Item,null,"Orders"))))))))},k=a(35),A=a(98),T=function(e){var t=e.variant,a=e.children;return r.a.createElement("div",{onClick:function(){return window.location.reload()},style:{cursor:"pointer"}},r.a.createElement(A.a,{variant:t},a))};T.defaultProps={variant:"info"};var P=T,D=a(12),U=a(39),w=a(26),x=function(e,t){return function(){var a=Object(O.a)(v.a.mark((function a(n,r){var l,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/products/".concat(e));case 3:l=a.sent.data,c={name:l.name,qty:t,image:l.image,price:l.price,countInStock:l.countInStock,product:l._id},n({type:"CART_ADD_ITEM",payload:c}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},G=a(17),B=function(e){var t=e.match,a=e.location,l=e.history,c=t.params.id,o=a.search?Number(a.search.split("=")[1]):1,s=Object(g.c)((function(e){return e.cart})).cartItems,d=Object(g.b)();Object(n.useEffect)((function(){c&&d(x(c,o))}),[d,c,o]);return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | My Cart"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===s.length?r.a.createElement(P,null,"Your Cart is Empty,",r.a.createElement(u.Link,{to:"/"}," Go back to products ")):r.a.createElement(D.a,{variant:"flush"},s.map((function(e){return r.a.createElement(D.a.Item,{key:e.product},r.a.createElement(i.a,null,r.a.createElement(m.a,{md:2},r.a.createElement(U.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(m.a,{md:3},r.a.createElement(u.Link,{to:"/products/".concat(e.product)},e.name)),r.a.createElement(m.a,{md:2},e.price),r.a.createElement(m.a,{md:2},r.a.createElement(_.a.Control,{as:"select",value:e.qty,onChange:function(t){d(x(e.product,Number(t.target.value))),l.push("/cart")}},Object(k.a)(Array(e.countInStock)).map((function(e,t){return r.a.createElement("option",{key:t+1,value:t+1},t+1)})))),r.a.createElement(m.a,{md:2},r.a.createElement(C.a,{type:"button",variant:"dark",onClick:function(t){return a=e.product,d(N(a)),void l.push("/cart");var a}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(m.a,{md:4},r.a.createElement(w.a,{className:"my-2"},r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement("h4",null,"Subtotal (",s.reduce((function(e,t){return e+t.qty}),0),") items"),"\u20b1",s.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),r.a.createElement(D.a.Item,null,r.a.createElement(C.a,{type:"button",className:"btn-block",disabled:!s.length,onClick:function(e){l.push("/shipping")}},"Check Out")))))))},F=a(43),M=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",null,r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half":"far fa-star"})),r.a.createElement("span",null,a&&a)))};M.defaultProps={color:"#f8e825"};var q=M,Q=function(e){var t=e.product;return r.a.createElement(w.a,{className:"my-3 p-3 rounded"},r.a.createElement(u.Link,{to:"/products/".concat(t._id)},r.a.createElement(w.a.Img,{src:t.image,variant:"top"})),r.a.createElement(w.a.Body,null,r.a.createElement(u.Link,{to:"/products/".concat(t._id)},r.a.createElement(w.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(w.a.Text,{as:"div"},r.a.createElement(q,{value:t.rating,text:" ".concat(t.numReviews," reviews"),color:"orange"})),r.a.createElement(w.a.Text,{as:"h3"}," \u20b1",t.price)))},z=a(92),Y=function(){return r.a.createElement(z.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},W=a(150),H=function(e){var t=e.totalPages,a=e.setPage,n=e.page;return t>1&&r.a.createElement(W.a,null,Object(k.a)(Array(t)).map((function(e,t){return r.a.createElement(W.a.Item,{key:t,value:t+1,active:t+1===n,onClick:function(){return a(t+1)}},t+1)})))},J=function(){var e=JSON.parse(localStorage.getItem("token"));return{headers:{Authorization:"Bearer ".concat(e)}}},V=function(e){var t=e.match,a=Object(n.useState)(!1),l=Object(I.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(null),d=Object(I.a)(s,1)[0],E=Object(n.useState)([]),p=Object(I.a)(E,2),f=p[0],b=p[1],g=t.params.keyword||"",h=Object(n.useState)(8),v=Object(I.a)(h,1)[0],O=Object(n.useState)(1),S=Object(I.a)(O,2),j=S[0],_=S[1],C=Object(n.useState)(null),R=Object(I.a)(C,2),L=R[0],k=R[1],A=function(e){o(!0),y.a.post("/api/products?keyword=".concat(g),e,J()).then((function(e){b(e.data.products),k(e.data.totalPages),o(!1)})).catch((function(e){o(!1),console.log(e)}))};Object(n.useEffect)((function(){A({pageSize:v,page:j})}),[g,j,v]);return c?r.a.createElement(Y,null):d?r.a.createElement(P,{variant:"secondary",children:r.a.createElement("h5",null,"`Error Loading Product Data : (",d,")` ")}):r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Home"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(F.a,{pause:"hover",className:"home__banner"},r.a.createElement(F.a.Item,null,r.a.createElement(u.Link,{to:"/"},r.a.createElement("img",{className:"d-block w-100",src:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/October/Fuji_Tallhero_Dash_en_US_1x._CB418727898_.jpg",alt:"First slide"})),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"First slide label"))),r.a.createElement(F.a.Item,null,r.a.createElement(u.Link,{to:"/"},r.a.createElement("img",{className:"d-block w-100",src:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Sports_en_US_1x._CB431860448_.jpg",alt:"Third slide"}),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"Second slide label")))),r.a.createElement(F.a.Item,null,r.a.createElement(u.Link,{to:"/"},r.a.createElement("img",{className:"d-block w-100",src:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Events/2020/PrimeDay/Fuji_TallHero_NonPrime_v2_en_US_1x._CB403670067_.jpg",alt:"Third slide"}),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"Third slide label"),r.a.createElement("p",null))))),r.a.createElement(i.a,null,f.map((function(e,t){return r.a.createElement(m.a,{key:t,sm:12,md:6,lg:4,xl:3},r.a.createElement(Q,{product:e}))}))),r.a.createElement(H,{setPage:function(e){_(e),A({pageSize:v,page:e})},totalPages:L,page:j}))},$=function(e){var t=e.children;return r.a.createElement(o.a,null,r.a.createElement(i.a,{className:" justify-content-md-center"},r.a.createElement(m.a,{xs:12,md:6},t)))},K=a(93),X=a.n(K),Z=function(e){var t=Object(n.useState)(""),a=Object(I.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(I.a)(o,2),s=u[0],i=u[1],m=Object(n.useState)(null),d=Object(I.a)(m,2),E=d[0],p=d[1],f=Object(g.c)((function(e){return e.user})),b=f.userInfo,h=f.loading,S=f.loginError,j=Object(g.b)(),R=e.location.search?e.location.search.split("=")[1]:"/";return b&&e.history.push(R),r.a.createElement($,null,r.a.createElement("a",{href:"/auth/google"},r.a.createElement(X.a,{type:"dark",style:{width:"100%",marginTop:"70px",marginBottom:"100px"}})),r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Login"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement("h4",null,"ADMIN LOGIN"),S&&r.a.createElement(P,{children:S,variant:"info"}),E&&r.a.createElement(P,{children:E,variant:"danger"}),h&&r.a.createElement(Y,null),r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault();var t=!0;""===l?(p("Please fill up the required fields"),document.getElementById("email").textContent="* Email is required",t=!1):(document.getElementById("email").textContent="Email",t=!0),""===s?(p("Please fill up the required fields"),document.getElementById("password").textContent="* Password is required",t=!1):(document.getElementById("password").textContent="Password",t=!0),t&&(p(null),j(function(e,t){return function(){var a=Object(O.a)(v.a.mark((function a(n){var r,l,c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),a.next=4,y.a.post("/api/users/login",{email:e,password:t});case 4:return a.next=6,a.sent.data;case 6:r=a.sent,l=r.user,r.token,n({type:"USER_LOGIN_SUCCESS",payload:l}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:(null===(c=a.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(l,s)))}},r.a.createElement(_.a.Group,{controlId:"email"},r.a.createElement(_.a.Label,{id:"email"},"Email Address"),r.a.createElement(_.a.Control,{type:"email",value:l,placeholder:"Enter email",onChange:function(e){return c(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"password"},r.a.createElement(_.a.Label,{id:"password"},"Password"),r.a.createElement(_.a.Control,{type:"password",value:s,placeholder:"Enter password",onChange:function(e){return i(e.target.value)}})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Submit")),r.a.createElement("br",null))},ee=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,y.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:(null===(l=t.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},te=function(e){var t=e.match.params.id,a=Object(n.useState)(1),l=Object(I.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),d=Object(I.a)(s,2),E=d[0],p=d[1],f=Object(n.useState)(""),b=Object(I.a)(f,2),h=b[0],v=b[1],O=Object(n.useState)(null),S=Object(I.a)(O,2),j=S[0],R=S[1],L=Object(n.useState)(!1),A=Object(I.a)(L,2),T=A[0],N=A[1],B=Object(g.c)((function(e){return e.user})).userInfo,F=Object(g.c)((function(e){return e.productDetails})),M=F.product,Q=F.loading,z=F.error,W=Object(g.b)();if(Object(n.useEffect)((function(){W(ee(t))}),[W,t]),Q)return r.a.createElement(Y,null);if(z)return r.a.createElement(P,{variant:"danger",children:r.a.createElement("h5",null,"`Error loading Product Details - ($",z,")`")});if(!M)return r.a.createElement(Y,null);var H=Object(k.a)(Array(M.countInStock)).map((function(e,t){return r.a.createElement("option",{key:t+1,value:t+1},t+1)}));return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | ",M.name),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(u.Link,{to:"/"},r.a.createElement(C.a,{className:"btn my-3 btn-secondary",type:"button"},"Go Back")),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:6},r.a.createElement(U.a,{src:M.image,alt:M.name,fluid:!0})),r.a.createElement(m.a,{md:3},r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,{variant:"light"},r.a.createElement("h5",null,M.name)),r.a.createElement(D.a.Item,null,r.a.createElement(q,{value:M.rating,text:"".concat(M.numReviews," reviews")})),r.a.createElement(D.a.Item,null,r.a.createElement("strong",null," Brand:"),r.a.createElement("br",null)," ",M.brand),r.a.createElement(D.a.Item,null,r.a.createElement("strong",null," Category:"),r.a.createElement("br",null)," ",M.category),r.a.createElement(D.a.Item,null,r.a.createElement("strong",null,"Item Description:"),r.a.createElement("br",null),M.description))),r.a.createElement(m.a,{md:3},r.a.createElement(w.a,null,r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Price:"),r.a.createElement(m.a,null,r.a.createElement("strong",null,"P",M.price)))),r.a.createElement(D.a.Item,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Status:"),r.a.createElement(m.a,null,M.countInStock>0?"In Stock":"Out of Stock"))),M.countInStock>0&&r.a.createElement(D.a.Item,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Quantity:"),r.a.createElement(m.a,null,r.a.createElement(_.a.Control,{as:"select",value:c,onChange:function(e){return o(Number(e.target.value))}},H)))),r.a.createElement(D.a.Item,null,r.a.createElement(C.a,{className:"btn-block btn-warning",type:"button",disabled:0===M.countInStock,onClick:function(t){t.preventDefault(),W(x(M._id,c)),e.history.push("/cart")}},"Add To Cart")))))),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:6},r.a.createElement("h2",null,"REVIEWS"),0===M.reviews.length&&r.a.createElement(P,null,"No reviews yet"),r.a.createElement(D.a,{variant:"flush"},M.reviews.map((function(e){return r.a.createElement(D.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(q,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))})),r.a.createElement(D.a.Item,null,r.a.createElement("h4",null,"WRITE A REVIEW"),j&&r.a.createElement(P,{children:j,variant:"danger"}),T&&r.a.createElement(Y,null),B?r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault();var a={name:B.name,rating:E,comment:h};N(!0),y.a.post("/api/products/".concat(t,"/reviews"),a,J()).then((function(e){W({type:"PRODUCT_DETAILS_SUCCESS",payload:e.data}),N(!1),alert("Review Submitted"),p(""),v("")})).catch((function(e){var t,a;N(!1),R((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message)}))}},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Rating"),r.a.createElement(_.a.Control,{required:!0,as:"select",value:E,onChange:function(e){return p(e.target.value)}},r.a.createElement("option",{value:""},"Select..."),r.a.createElement("option",{value:"1"},"1 - Poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Very Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Comment"),r.a.createElement(_.a.Control,{required:!0,as:"textarea",value:h,onChange:function(e){return v(e.target.value)}})),r.a.createElement(C.a,{type:"submit",variant:"info"},"Submit")):r.a.createElement(P,{children:"Please log in to write a review"}))))))},ae=a(40),ne=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_REQUEST"}),n={headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("token")))}},t.next=5,y.a.put("/api/users/profile",e,n);case 5:return t.next=7,t.sent.data;case 7:r=t.sent,a({type:"USER_UPDATE_SUCCESS",payload:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"USER_UPDATE_FAIL",payload:(null===(l=t.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},re=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,r,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDERS_BYUSER_REQUREST"}),a=JSON.parse(localStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},e.next=6,y.a.get("/api/orders/myorders",n);case 6:return e.next=8,e.sent.data;case 8:r=e.sent,t({type:"ORDERS_BYUSER_RSUCCESS",payload:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"ORDERS_BYUSER_RFAIL",payload:(null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},le=function(e){var t=Object(n.useState)(""),a=Object(I.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!0),u=Object(I.a)(o,1)[0],s=Object(n.useState)(""),d=Object(I.a)(s,2),E=d[0],p=d[1],f=Object(n.useState)(""),h=Object(I.a)(f,2),v=h[0],O=h[1],S=Object(n.useState)(null),y=Object(I.a)(S,2),j=y[0],R=y[1],L=Object(g.b)(),k=Object(g.c)((function(e){return e.user})),A=k.userInfo,T=k.loading,D=k.updateError,U=Object(g.c)((function(e){return e.order})),w=U.userOrders,x=U.userOrdersLoading,N=U.userOrdersError;Object(n.useEffect)((function(){A&&c(A.name),L(re())}),[A,L]);return A?T?r.a.createElement(Y,null):r.a.createElement(i.a,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Profile"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(m.a,{md:3},D&&r.a.createElement(P,{children:D,variant:"info"}),j&&r.a.createElement(P,{children:j,variant:"danger"}),T&&r.a.createElement(Y,null),r.a.createElement("h2",null,"User Profile"),r.a.createElement(_.a,{onSubmit:function(e){if(e.preventDefault(),E!==v)return R("Password does not match");L(ne({name:l,password:E})),R(null)}},r.a.createElement(_.a.Group,{controlId:"name"},r.a.createElement(_.a.Label,{id:"name"},"Name"),r.a.createElement(_.a.Control,{type:"text",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"password"},r.a.createElement(_.a.Label,{id:"password"},"Password"),r.a.createElement(_.a.Control,{type:"password",value:E,placeholder:"Enter new password",onChange:function(e){return p(e.target.value)},disabled:!u})),r.a.createElement(_.a.Group,{controlId:"confirmPassword"},r.a.createElement(_.a.Label,{id:"rePassword"},"Re-type Password"),r.a.createElement(_.a.Control,{type:"password",value:v,placeholder:"Re-enter new password",onChange:function(e){return O(e.target.value)},disabled:!u})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Update"))),r.a.createElement(m.a,{md:9},N?r.a.createElement(P,{variant:"danger"},N):r.a.createElement("div",null,r.a.createElement("h2",null,"My Orders"),x?r.a.createElement(Y,null):r.a.createElement(ae.a,{hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"DETAILS"))),r.a.createElement("tbody",null,w&&w.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement(b.LinkContainer,{to:"/orders/".concat(e._id,"/pay")},r.a.createElement(C.a,{variant:"secondary",className:"btn-sm"},"Details")))))}))))))):r.a.createElement(Y,null)},ce=function(e,t,a){return function(){var n=Object(O.a)(v.a.mark((function n(r){var l,c,o,u,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),n.next=4,y.a.post("/api/users/register",{name:e,email:t,password:a});case 4:return n.next=6,n.sent.data;case 6:l=n.sent,c=l.user,o=l.token,r({type:"USER_REGISTER_SUCCESS",payload:c}),localStorage.setItem("token",JSON.stringify(o)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",payload:(null===(u=n.t0.response)||void 0===u||null===(s=u.data)||void 0===s?void 0:s.message)?n.t0.response.data.message:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},oe=function(e){var t=Object(n.useState)(""),a=Object(I.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(I.a)(o,2),d=s[0],E=s[1],p=Object(n.useState)(""),f=Object(I.a)(p,2),b=f[0],h=f[1],v=Object(n.useState)(""),O=Object(I.a)(v,2),S=O[0],y=O[1],j=Object(n.useState)(null),R=Object(I.a)(j,2),L=R[0],k=R[1],A=Object(g.c)((function(e){return e.user})),T=A.userInfo,D=A.loading,U=A.registerError,w=Object(g.b)(),x=e.location.search?e.location.search.split("=")[1]:"/";T&&e.history.push(x);return r.a.createElement($,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Register"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement("h1",null,"Creat Account"),U&&r.a.createElement(P,{children:U,variant:"info"}),L&&r.a.createElement(P,{children:L,variant:"danger"}),D&&r.a.createElement(Y,null),r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault();var t=!0;""===l?(k("Please fill up the required fields"),document.getElementById("name").textContent="* Name is required",t=!1):(document.getElementById("name").textContent="Name",t=!0),""===d?(k("Please fill up the required fields"),document.getElementById("email").textContent="* Email is required",t=!1):(document.getElementById("email").textContent="Email",t=!0),""===b?(k("Please fill up the required fields"),document.getElementById("password").textContent="* Password is required",t=!1):(document.getElementById("password").textContent="Password",t=!0),""===S?(k("Please fill up the required fields"),document.getElementById("rePassword").textContent="* Password is required",t=!1):(document.getElementById("rePassword").textContent="Re-type Password",t=!0),b!==S&&(k("Password does not match"),t=!1),t&&(k(null),w(ce(l,d,b)))}},r.a.createElement(_.a.Group,{controlId:"name"},r.a.createElement(_.a.Label,{id:"name"},"Name"),r.a.createElement(_.a.Control,{type:"text",value:l,placeholder:"Enter name",onChange:function(e){return c(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"email"},r.a.createElement(_.a.Label,{id:"email"},"Email Address"),r.a.createElement(_.a.Control,{type:"email",value:d,placeholder:"Enter email",onChange:function(e){return E(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"password"},r.a.createElement(_.a.Label,{id:"password"},"Password"),r.a.createElement(_.a.Control,{type:"password",value:b,placeholder:"Enter password",onChange:function(e){return h(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"confirmPassword"},r.a.createElement(_.a.Label,{id:"rePassword"},"Re-type Password"),r.a.createElement(_.a.Control,{type:"password",value:S,placeholder:"Re-enter password",onChange:function(e){return y(e.target.value)}})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Submit")),r.a.createElement(i.a,{className:"py-3"},r.a.createElement(m.a,null,"Have already an account?"," ",r.a.createElement(u.Link,{to:"/login?redirect=".concat(x)},"Login"))))},ue=function(e){var t=e.step1,a=e.step2,n=e.step3,l=e.step4;return r.a.createElement(p.a,{className:"justify-content-center mb-4"},r.a.createElement(p.a.Item,null,t?r.a.createElement(b.LinkContainer,{to:"/login"},r.a.createElement(p.a.Link,null,"Sign In")):r.a.createElement(p.a.Link,{disabled:!0},"Sign In")),r.a.createElement(p.a.Item,null,a?r.a.createElement(b.LinkContainer,{to:"/shipping"},r.a.createElement(p.a.Link,null,"Shipping")):r.a.createElement(p.a.Link,{disabled:!0},"Shipping")),r.a.createElement(p.a.Item,null,n?r.a.createElement(b.LinkContainer,{to:"/payment"},r.a.createElement(p.a.Link,null,"Payment")):r.a.createElement(p.a.Link,{disabled:!0},"Payment")),r.a.createElement(p.a.Item,null,l?r.a.createElement(b.LinkContainer,{to:"/placeorder"},r.a.createElement(p.a.Link,null,"Place Order")):r.a.createElement(p.a.Link,{disabled:!0},"Place Order")))},se=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(I.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),s=Object(I.a)(u,2),i=s[0],m=s[1],d=Object(n.useState)(""),E=Object(I.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)(""),h=Object(I.a)(b,2),v=h[0],O=h[1],S=Object(n.useState)(""),y=Object(I.a)(S,2),j=y[0],R=y[1],L=Object(g.b)(),k=Object(g.c)((function(e){return e.user})).userInfo;Object(n.useEffect)((function(){if(null===k||void 0===k?void 0:k.shippingAddress){var e=k.shippingAddress,t=e.street,a=e.sitio,n=e.barangay,r=e.city,l=e.mobile;o(t),m(a),f(n),O(r),R(l)}}),[k]);return r.a.createElement($,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Shipping"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(ue,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping Address"),r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault(),L(ne({shippingAddress:{street:c,sitio:i,barangay:p,city:v,mobile:j}})).then((function(){return t.push("/payment")}))}},r.a.createElement(_.a.Group,{controlId:"name"},r.a.createElement(_.a.Label,{id:"street"},"Street / Compound / Residence"),r.a.createElement(_.a.Control,{type:"text",value:c,onChange:function(e){return o(e.target.value)},required:!0})),r.a.createElement(_.a.Group,{controlId:"sitio"},r.a.createElement(_.a.Label,{id:"sitio"},"Sitio"),r.a.createElement(_.a.Control,{type:"text",value:i,onChange:function(e){return m(e.target.value)},required:!0})),r.a.createElement(_.a.Group,{controlId:"barangay"},r.a.createElement(_.a.Label,{id:"barangay"},"Barangay"),r.a.createElement(_.a.Control,{type:"text",value:p,onChange:function(e){return f(e.target.value)},required:!0})),r.a.createElement(_.a.Group,{controlId:"city"},r.a.createElement(_.a.Label,{id:"barangay"},"City"),r.a.createElement(_.a.Control,{type:"text",value:v,onChange:function(e){return O(e.target.value)},required:!0})),r.a.createElement(_.a.Group,{controlId:"mobile"},r.a.createElement(_.a.Label,{id:"mobile"},"Mobile Number"),r.a.createElement(_.a.Control,{type:"text",value:j,onChange:function(e){return R(e.target.value)},required:!0})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Proceed")))},ie=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_SAVE_PAYMENT_METHOD",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},me=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(I.a)(a,2),c=l[0],o=l[1],u=Object(g.b)();Object(n.useEffect)((function(){u({type:"ORDER_PAY_RESET"})}),[u]);return r.a.createElement($,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Payment Options"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(ue,{step1:!0,step2:!0,step3:!0}),r.a.createElement("h1",{style:{marginBottom:"30px"}},"Payment Method"),r.a.createElement(_.a,{onSubmit:function(e){e.preventDefault(),u(ie(c)),t.push("/placeorder")}},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,{as:"legend"},"Select Method"),r.a.createElement(_.a.Check,{type:"radio",id:"Paypal",value:"Paypal",name:"paymentMethod",label:"Paypal or Credit Card",onChange:function(e){o(e.target.value)}}),r.a.createElement(_.a.Check,{type:"radio",id:"Cash on Delivery",value:"Cash on Delivery",name:"paymentMethod",label:"Cash on Delivery",onChange:function(e){o(e.target.value)}})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Proceed")))},de=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST"}),n=JSON.parse(localStorage.getItem("token")),r={headers:{Authorization:"Bearer ".concat(n)}},t.next=6,y.a.post("/api/orders",e,r);case 6:l=t.sent,c=l.data,a({type:"ORDER_CREATE_SUCCESS",payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"USER_REGISTER_FAIL",payload:(null===(o=t.t0.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.message)?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CART_RESET"}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},pe=function(e){var t=e.history,a=Object(g.c)((function(e){return e.cart})),l=a.cartItems,c=a.paymentMethod,o=Object(g.c)((function(e){return e.user})).userInfo,s=Object(g.c)((function(e){return e.order})),d=s.order,E=s.loading,p=s.createError,f=Object(n.useState)(""),b=Object(I.a)(f,2),h=b[0],S=b[1],y=Object(g.b)();Object(n.useEffect)((function(){d&&t.push("/orders/".concat(d._id,"/pay"))}),[d,t]);var j=l.reduce((function(e,t){return e+t.price*t.qty}),0),R=Number((.12*j).toFixed(2)),L=Math.floor(j+100+R);function k(e){return e[0].toUpperCase()+e.slice(1)}var A=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(de({cashOnHand:h,paymentMethod:c,itemsPrice:j,shippingPrice:100,taxPrice:R,totalPrice:L,orderItems:l,shippingAddress:o.shippingAddress}));case 3:return e.next=5,y(Ee());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c||t.push("/payment"),o?E?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Order Summary"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(ue,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:8},r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"SHIPPING"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address: "),k(o.shippingAddress.street),","," ",k(o.shippingAddress.sitio),","," ",k(o.shippingAddress.barangay),","," ",k(o.shippingAddress.city),",")),r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"PAYMENT METHOD"),r.a.createElement("p",null,r.a.createElement("strong",null,"Pay through: "),c)),r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"ORDER ITEMS"),r.a.createElement(D.a,{variant:"flush"},l.map((function(e,t){return r.a.createElement(D.a.Item,{key:t},r.a.createElement(i.a,null,r.a.createElement(m.a,{md:2},r.a.createElement(U.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(m.a,null,r.a.createElement(u.Link,{to:"/products/".concat(e.product)},e.name)),r.a.createElement(m.a,{md:4},e.qty," x \u20b1",e.price," = \u20b1",e.qty*e.price)))})))))),r.a.createElement(m.a,{md:4},r.a.createElement(w.a,null,r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement("h4",null,"ORDER SUMMARY")),r.a.createElement(D.a.Item,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Items"),r.a.createElement(m.a,null,"\u20b1",j)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Shipping"),r.a.createElement(m.a,null,"\u20b1",100)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Tax"),r.a.createElement(m.a,null,"\u20b1",R)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Total"),r.a.createElement(m.a,null,"\u20b1",L))),r.a.createElement(D.a.Item,null,r.a.createElement(_.a,{onSubmit:A},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Control,{as:"input",type:"number",value:h,required:!0,placeholder:"Amount of cash on hand",onChange:function(e){return S(e.target.value)}})),r.a.createElement(C.a,{type:"submit",className:"btn-block"},"Place Order"))))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,{variant:"danger"},r.a.createElement("h4",null,"NOTICE FOR CASH ON DELIVERY")),r.a.createElement(D.a.Item,{variant:"danger"},r.a.createElement("p",null,"Once order is placed, Please keep your line open\n\t\t\t\t\t\t\t\t(MOBILE NO. ".concat(o.shippingAddress.mobile,") for the verification of your delivery \n\t\t\t\t\t\t\t\taddress and order. Thank you :) "))),r.a.createElement(D.a.Item,null,p&&r.a.createElement(P,{children:p,variant:"danger"}))))))):r.a.createElement(P,{children:"Please log in to continue"})},fe=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_GET_REQUEST"}),n=JSON.parse(localStorage.getItem("token")),r={headers:{Authorization:"Bearer ".concat(n)}},t.next=6,y.a.get("/api/orders/".concat(e),r);case 6:return t.next=8,t.sent.data;case 8:l=t.sent,a({type:"ORDER_GET_SUCCESS",payload:l}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),a({type:"ORDER_GET_FAIL",payload:(null===(c=t.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},be=function(e,t){return function(){var a=Object(O.a)(v.a.mark((function a(n){var r,l,c,o,u;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_PAY_REQUEST"}),r=JSON.parse(localStorage.getItem("token")),l={headers:{Authorization:"Bearer ".concat(r)}},a.next=6,y.a.put("/api/orders/".concat(e,"/pay"),t,l);case 6:return a.next=8,a.sent.data;case 8:c=a.sent,n({type:"ORDER_PAY_SUCCESS",payload:c}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:"ORDER_PAY_FAIL",payload:(null===(o=a.t0.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.message)?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},ge=a(94),he=a.n(ge),ve=function(e){var t=Object(n.useState)(""),a=Object(I.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){y.a.get("http://localhost:5000/api/config/paypal").then((function(e){c(e.data)}))}),[]);var o=e.total;if(!l)return r.a.createElement(Y,null);var u={sandbox:l,production:"YOUR-PRODUCTION-APP-ID"};return r.a.createElement(he.a,{env:"sandbox",client:u,currency:"PHP",total:o,onError:function(t){console.log("Error!",t),e.paymentError(t)},onSuccess:function(t){e.paymentSuccess(t),console.log(t)},onCancel:function(t){console.log("The payment was cancelled!",t),e.paymentCancelled(t)},style:{size:"large",color:"blue",shape:"rect",label:"checkout"}})},Oe=function(e){var t=e.match,a=(e.history,Object(g.c)((function(e){return e.user})).userInfo),l=Object(g.c)((function(e){return e.order})),c=l.order,o=l.loading,s=l.payLoading,d=l.getOrderError,E=t.params.orderId,p=Object(g.b)();function f(e){return e[0].toUpperCase()+e.slice(1)}Object(n.useEffect)((function(){c&&c._id===E||p(fe(E))}),[c,E,p]);var b=function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a={id:t.paymentID,status:t.paid?"Paid":"Not Paid",email_address:t.email,update_time:Date.now().toString()},p(be(E,a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(Y,null):d?r.a.createElement(P,{children:d}):c?r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Order Status"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement("h1",null,"ORDER ",E.toUpperCase()),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:8},r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"SHIPPING"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",c.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),r.a.createElement("a",{href:"mailto:".concat(c.user.email)},c.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Mobile No: ",c.shippingAddress.mobile," ")),r.a.createElement("p",null,r.a.createElement("strong",null,"Address: "),f(a.shippingAddress.street),","," ",f(a.shippingAddress.sitio),","," ",f(a.shippingAddress.barangay),","," ",f(a.shippingAddress.city),","),r.a.createElement("strong",null,"Delivery status: "),c.isDelivered?r.a.createElement(P,{variant:"success"},"Delivered on: ",c.deliveredAt):r.a.createElement(P,{children:"For Delivery",variant:"danger"})),r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"PAYMENT METHOD"),r.a.createElement("p",null,r.a.createElement("strong",null,"Pay through: "),c.paymentMethod),r.a.createElement("strong",null,"Payment status: "),c.isPaid?r.a.createElement(P,{variant:"success"},"Paid on: ",c.paidAt):r.a.createElement(P,{children:"For Payment",variant:"danger"})),r.a.createElement(D.a.Item,null,r.a.createElement("h3",null,"ORDER ITEMS"),r.a.createElement(D.a,{variant:"flush"},c.orderItems.map((function(e,t){return r.a.createElement(D.a.Item,{key:t},r.a.createElement(i.a,null,r.a.createElement(m.a,{md:2},r.a.createElement(U.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(m.a,null,r.a.createElement(u.Link,{to:"/products/".concat(e.product)},e.name)),r.a.createElement(m.a,{md:4},e.qty," x \u20b1",e.price," = \u20b1",e.qty*e.price)))})))))),r.a.createElement(m.a,{md:4},r.a.createElement(w.a,null,r.a.createElement(D.a,{variant:"flush"},r.a.createElement(D.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(D.a.Item,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Items"),r.a.createElement(m.a,null,"\u20b1",c.itemsPrice)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Shipping"),r.a.createElement(m.a,null,"\u20b1",c.shippingPrice)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Tax"),r.a.createElement(m.a,null,"\u20b1",c.taxPrice)),r.a.createElement(i.a,null,r.a.createElement(m.a,null,"Total"),r.a.createElement(m.a,null,"\u20b1",c.totalPrice))),!c.isPaid&&r.a.createElement(D.a.Item,null,s&&r.a.createElement(Y,null),r.a.createElement(ve,{paymentSuccess:b,paymentCancelled:function(e){},paymentError:function(e){},total:c.totalPrice})),(null===a||void 0===a?void 0:a.isAdmin)&&c.isPaid&&!c.isDelivered?r.a.createElement(D.a.Item,null,r.a.createElement(C.a,{type:"button",className:"btn btn-block",variant:"secondary",onClick:function(){y.a.put("/api/orders/".concat(E,"/deliver"),{},J()).then((function(e){p(p({type:"ORDER_GET_SUCCESS",payload:e.data}))})).catch((function(e){var t,a;p({type:"ORDER_GET_FAIL",payload:(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message})}))}},"Mark Delivered")):null))))):r.a.createElement(Y,null)},Se=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,r,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_LIST_REQUEST"}),a=JSON.parse(localStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},e.next=6,y.a.get("/api/users",n);case 6:return e.next=8,e.sent.data;case 8:r=e.sent,t({type:"USER_LIST_SUCCESS",payload:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"USER_LIST_FAIL",payload:(null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DELETE_REQUEST"}),n=JSON.parse(localStorage.getItem("token")),r={headers:{Authorization:"Bearer ".concat(n)}},t.next=6,y.a.delete("/api/admin/users/".concat(e),r);case 6:return t.next=8,t.sent.data;case 8:l=t.sent,a({type:"USER_DELETE_SUCCESS",payload:l}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USER_DELETE_FAIL",payload:(null===(c=t.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},je=function(e){var t=e.history,a=Object(g.c)((function(e){return e.user})),l=a.userInfo,c=a.userDeleteResponse,o=a.userList,u=a.userListLoading,s=a.userListError,i=Object(g.b)();Object(n.useEffect)((function(){i(Se()),l&&!l.isAdmin&&t.push("/")}),[i,c,l,t]);return l?r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | User's List"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement("h1",null,"Users"),u?r.a.createElement(Y,null):s?r.a.createElement(P,{children:s,variant:"danger"}):r.a.createElement(ae.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADMIN"),r.a.createElement("th",null))),r.a.createElement("tbody",null,o&&o.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),r.a.createElement("td",null,e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement(b.LinkContainer,{to:"/admin/users/".concat(e._id,"/edit")},r.a.createElement(C.a,{variant:"info",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),"     ",r.a.createElement(C.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e._id,void(window.confirm("Are you sure to delete the user?")&&i(ye(t)));var t}},r.a.createElement("i",{className:"fas fa-trash"})))))}))))):r.a.createElement(P,null,"Please Log in as Admin, Or go back to home page")},Ie=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r,l,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),n={headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("token")))}},t.next=5,y.a.get("/api/admin/users/".concat(e),n);case 5:r=t.sent,a({type:"USER_DETAILS_SUCCESS",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:(null===(l=t.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(e){var t=e.match,a=e.history,l=(e.location,Object(n.useState)("")),c=Object(I.a)(l,2),o=c[0],u=c[1],s=Object(n.useState)(""),i=Object(I.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)(!1),p=Object(I.a)(E,2),f=p[0],b=p[1],h=Object(g.c)((function(e){return e.user})),S=h.userDetails,j=h.loading,R=h.error,L=Object(g.b)();Object(n.useEffect)((function(){S||L(Ie(t.params.id)),S&&(u(S.name),d(S.email),b(S.isAdmin))}),[L,S,t]);return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Edit User "),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(C.a,{className:"btn btn-light my-3",onClick:function(e){e.preventDefault(),a.push("/admin/userlist"),L({type:"USER_DETAILS_SUCCESS",payload:null})}},"Go Back"),r.a.createElement($,null,r.a.createElement("h1",null,"Edit User"),R&&r.a.createElement(P,{children:R,variant:"info"}),j&&r.a.createElement(Y,null),r.a.createElement(_.a,{onSubmit:function(e){var a,n;e.preventDefault(),L((a={name:o,email:m,isAdmin:f},n=t.params.id,function(){var e=Object(O.a)(v.a.mark((function e(t){var r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_DETAILS_REQUEST"}),r={headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("token")))}},e.next=5,y.a.put("http://localhost:5000/api/admin/users/".concat(n),a,r);case 5:return e.next=7,e.sent.data;case 7:l=e.sent,t({type:"USER_DETAILS_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"USER_DETAILS_FAIL",payload:(null===(c=e.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(_.a.Group,{controlId:"name"},r.a.createElement(_.a.Label,{id:"name"},"Name"),r.a.createElement(_.a.Control,{type:"text",value:o,placeholder:"Enter name",onChange:function(e){return u(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"email"},r.a.createElement(_.a.Label,{id:"email"},"Email Address"),r.a.createElement(_.a.Control,{type:"email",value:m,placeholder:"Enter email",onChange:function(e){return d(e.target.value)}})),r.a.createElement(_.a.Group,{controlId:"email"},r.a.createElement(_.a.Label,{id:"email"},"Email Address"),r.a.createElement(_.a.Check,{type:"checkbox",label:"Is Admin",checked:f,onChange:function(e){return b(e.target.checked)}})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Update"))))},Ce=function(e){var t=e.history,a=Object(n.useState)(!1),l=Object(I.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(null),s=Object(I.a)(u,1)[0],d=Object(n.useState)([]),E=Object(I.a)(d,2),p=E[0],f=E[1],h=Object(n.useState)(12),S=Object(I.a)(h,1)[0],j=Object(n.useState)(1),_=Object(I.a)(j,2),R=_[0],L=_[1],k=Object(n.useState)(null),A=Object(I.a)(k,2),T=A[0],D=A[1],U=Object(n.useState)(""),w=Object(I.a)(U,2),x=w[0],N=w[1],B=Object(g.c)((function(e){return e.user})).userInfo,F=function(e){o(!0),y.a.post("/api/products",e,J()).then((function(e){f(e.data.products),D(e.data.totalPages),o(!1)})).catch((function(e){o(!1),console.log(e)}))};Object(n.useEffect)((function(){F({pageSize:S,page:R}),B&&!B.isAdmin&&t.push("/")}),[B,t,S,R]);var M=function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Are you sure to delete this product?")){e.next=6;break}return a=J(),e.next=5,y.a.delete("/api/admin/products/".concat(t),a);case 5:F({pageSize:S,page:R});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return B?x?r.a.createElement(P,{children:x,variant:"warning"}):r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Product List"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(i.a,{className:"align-items-center"},r.a.createElement(m.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(m.a,{className:"text-right"},r.a.createElement(C.a,{className:"my-3",onClick:function(e){t.push("/admin/products/createProduct/edit")}},r.a.createElement("i",{className:"fas fa-plus"}),"Create Product"))),c?r.a.createElement(Y,null):s?r.a.createElement(P,{children:s,variant:"danger"}):r.a.createElement("div",null,r.a.createElement(ae.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null))),r.a.createElement("tbody",null,p&&p.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/admin/products/".concat(e._id,"/edit")},r.a.createElement(C.a,{variant:"info",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),"     ",r.a.createElement(C.a,{variant:"danger",className:"btn-sm",onClick:function(){return M(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(H,{page:R,totalPages:T,setPage:function(e){L(e),F({pageSize:S,page:e})}}))):r.a.createElement(P,null,"Please Log in as Admin, Or go back to home page")},Re=a(3),Le=function(e){var t=e.match,a=e.history,l=Object(n.useState)({name:"",category:"",brand:"",description:"",price:"",countInStock:"",image:""}),c=Object(I.a)(l,2),o=c[0],u=c[1],s=Object(n.useState)(!0),i=Object(I.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)(!1),p=Object(I.a)(E,2),f=p[0],b=p[1],h=Object(n.useState)(!1),S=Object(I.a)(h,2),j=S[0],R=S[1],L=Object(n.useState)(null),k=Object(I.a)(L,2),A=k[0],T=k[1],D=Object(g.c)((function(e){return e.user})).userInfo,U=Object(g.b)(),w=t.params.id;Object(n.useEffect)((function(){"createProduct"!==w&&(d(!1),R(!0),y.a.get("/api/products/".concat(w)).then((function(e){R(!1),u(e.data)})).catch((function(e){var t,a;return T((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message)})))}),[U,t,w]);var x=function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,r,l,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),b(!0),r={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("token")))}},e.prev=5,e.next=8,y.a.post("/api/uploads",n,r);case 8:return e.next=10,e.sent.data;case 10:l=e.sent,u(Object(Re.a)(Object(Re.a)({},o),{},{image:l})),b(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),b(!1),T((null===(c=e.t0.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message)?e.t0.response.data.message:e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Edit Product"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement(C.a,{className:"btn btn-light my-3",onClick:function(e){e.preventDefault(),a.push("/admin/productlist")}},"Go Back"),r.a.createElement($,null,r.a.createElement("h1",null,m?"Create Product":"Edit Product"),A&&r.a.createElement(P,{children:A,variant:"info"}),j&&r.a.createElement(Y,null),r.a.createElement(_.a,{onSubmit:function(e){if(e.preventDefault(),m){var t=Object(Re.a)(Object(Re.a)({},o),{},{user:D._id});R(!0),y.a.post("/api/admin/products",t,J()).then((function(e){R(!1),a.push("/admin/products/".concat(e.data._id,"/edit"))})).catch((function(e){var t,a;R(!1),T((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message)}))}if(!m){var n={name:o.name,category:o.category,brand:o.brand,description:o.description,price:o.price,countInStock:o.countInStock,image:o.image};R(!0),y.a.put("/api/admin/products/".concat(w),n,J()).then((function(e){R(!1),u(e.data)})).catch((function(e){var t,a;R(!1),T((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message)}))}}},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Name"),r.a.createElement(_.a.Control,{type:"text",value:o.name,placeholder:"Enter name",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{name:e.target.value}))}})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Price"),r.a.createElement(_.a.Control,{type:"number",value:o.price,placeholder:"Enter price",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{price:e.target.value}))}})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Image"),r.a.createElement(_.a.Control,{type:"text",value:o.image,placeholder:"Enter image url",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{image:e.target.value}))}}),r.a.createElement(_.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:x}),f&&r.a.createElement(Y,null)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Brand"),r.a.createElement(_.a.Control,{type:"text",value:o.brand,placeholder:"Enter brand",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{brand:e.target.value}))}})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Category"),r.a.createElement(_.a.Control,{type:"text",value:o.category,placeholder:"Enter category",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{category:e.target.value}))}})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Count in Stock"),r.a.createElement(_.a.Control,{type:"number",value:o.countInStock,placeholder:"Enter count in stock",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{countInStock:e.target.value}))}})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Description"),r.a.createElement(_.a.Control,{type:"text",value:o.description,placeholder:"Enter description",onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{description:e.target.value}))}})),r.a.createElement(C.a,{type:"submit",variant:"secondary"},"Submit"))))},ke=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(I.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!1),s=Object(I.a)(u,2),i=s[0],m=s[1],d=Object(n.useState)(""),E=Object(I.a)(d,2),p=E[0],f=E[1],h=Object(g.c)((function(e){return e.user})).userInfo,v=Object(g.b)();return Object(n.useEffect)((function(){m(!0),y.a.get("/api/admin/orders",J()).then((function(e){o(e.data),m(!1)})).catch((function(e){var t,a;m(!1),f((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?e.response.data.message:e.message)})),h&&!h.isAdmin&&t.push("/")}),[v,h,t]),h?r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Pro Store | Order List"),r.a.createElement("meta",{name:"description",content:"We sell the best milk tea in town"})),r.a.createElement("h1",null,"ORDERS"),i?r.a.createElement(Y,null):p?r.a.createElement(P,{children:p,variant:"danger"}):r.a.createElement(ae.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"CLIENT NAME"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"COH"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,c&&c.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{style:{wordWrap:"break-word",minWidth:"100px",maxWidth:"100px"}},e._id),r.a.createElement("td",null,e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"\u20b1",e.totalPrice),r.a.createElement("td",null,"\u20b1",e.cashOnHand),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/orders/".concat(e._id,"/pay")},r.a.createElement(C.a,{variant:"info",className:"btn-sm"},"Details"))))}))))):r.a.createElement(P,null,"Please Log in as Admin, Or go back to home page")},Ae=function(){var e=Object(g.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,r,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={},e.next=4,y.a.get("/api/users/profile",a);case 4:n=e.sent,r=n.data,t({type:"USER_AUTH_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"USER_AUTH_FAIL",payload:(null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(u.BrowserRouter,null,r.a.createElement(L,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(o.a,null,r.a.createElement(s.d,{path:"/orders/:orderId/pay",component:Oe}),r.a.createElement(s.d,{path:"/admin/users/:id/edit",component:_e}),r.a.createElement(s.d,{path:"/admin/products/:id/edit",component:Le}),r.a.createElement(s.d,{path:"/admin/orderlist",component:ke}),r.a.createElement(s.d,{path:"/admin/productlist",component:Ce,exact:!0}),r.a.createElement(s.d,{path:"/admin/userlist",component:je}),r.a.createElement(s.d,{path:"/placeorder",component:pe}),r.a.createElement(s.d,{path:"/payment",component:me}),r.a.createElement(s.d,{path:"/shipping",component:se}),r.a.createElement(s.d,{path:"/products/:id",component:te}),r.a.createElement(s.d,{path:"/cart/:id?",component:B}),r.a.createElement(s.d,{path:"/login",component:Z}),r.a.createElement(s.d,{path:"/register",component:oe}),r.a.createElement(s.d,{path:"/profile",component:le}),r.a.createElement(s.d,{path:"/search/:keyword",component:V,exact:!0}),r.a.createElement(s.d,{path:"/",exact:!0,component:V}))),r.a.createElement(d,null))},Te=a(44),Pe=a(95),De=a(96),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"PRODUCT_LIST_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{products:t.payload.products,totalPages:t.payload.totalPages,page:t.payload.page,loading:!1});case"PRODUCT_LIST_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,error:t.payload});default:return e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:null,loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"PRODUCT_DETAILS_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{product:t.payload,loading:!1});case"PRODUCT_DETAILS_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,error:t.payload});default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(Re.a)(Object(Re.a)({},e),{},{cartItems:Object(k.a)(e.cartItems).map((function(e){return e.product===a.product?a:e}))}):Object(Re.a)(Object(Re.a)({},e),{},{cartItems:[].concat(Object(k.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(Re.a)(Object(Re.a)({},e),{},{cartItems:Object(k.a)(e.cartItems).filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_PAYMENT_METHOD":return Object(Re.a)(Object(Re.a)({},e),{},{paymentMethod:t.payload});case"CART_RESET":return Object(Re.a)(Object(Re.a)({},e),{},{cartItems:[]});default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:null,loading:!1,error:null,authError:null,loginError:null,registerError:null,updateError:null,userList:[],userListLoading:null,userListError:null,userDeleteResponse:null,userDeleteLoading:!1,userDeleteError:null,userDetails:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{userDetails:null,loading:!0,error:null});case"USER_DETAILS_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userDetails:t.payload,loading:!1,error:null});case"USER_DETAILS_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{userDetails:null,loading:!1,error:t.payload});case"USER_DELETE_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{userDeleteLoading:!0});case"USER_DELETE_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userDeleteLoading:!1,userDeleteResponse:t.payload});case"USER_DELETE_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{userDeleteLoading:!1,userDeleteError:t.payload});case"USER_LIST_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{userListLoading:!0});case"USER_LIST_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userListLoading:!1,userList:t.payload});case"USER_LIST_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{userListLoading:!1,userListError:t.payload});case"USER_AUTH_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userInfo:t.payload,error:null});case"USER_AUTH_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{authError:t.payload});case"USER_LOGIN_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_LOGIN_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,loginError:t.payload});case"USER_LOOUT":return{};case"USER_LOOUT_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,error:t.payload});case"USER_REGISTER_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userInfo:t.payload,loading:!1});case"USER_REGISTER_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,registerError:t.payload});case"USER_UPDATE_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"USER_UPDATE_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_UPDATE_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,updateError:t.payload});case"USER_DETAILS_RESET":return{userInfo:null,loading:!1,error:null};default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:null,loading:!1,payLoading:!1,createError:null,getOrderError:null,orderPayError:null,userOrders:null,userOrdersLoading:null,userOrdersError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"ORDER_CREATE_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{order:t.payload,loading:!1,createError:null});case"ORDER_CREATE_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,createError:t.payload});case"ORDER_GET_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case"ORDER_GET_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{order:t.payload,loading:!1});case"ORDER_GET_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,getOrderError:t.payload});case"ORDER_PAY_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{payLoading:!0});case"ORDER_PAY_SUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{order:t.payload,payLoading:!1});case"ORDER_PAY_FAIL":return Object(Re.a)(Object(Re.a)({},e),{},{payLoading:!1,orderPayError:t.payload});case"ORDER_PAY_RESET":return Object(Re.a)(Object(Re.a)({},e),{},{order:null,payLoading:!1,orderPayError:null});case"ORDERS_BYUSER_REQUREST":return Object(Re.a)(Object(Re.a)({},e),{},{userOrdersLoading:!0,userOrdersError:null});case"ORDERS_BYUSER_RSUCCESS":return Object(Re.a)(Object(Re.a)({},e),{},{userOrdersLoading:!1,userOrders:t.payload,userOrdersError:null});case"ORDERS_BYUSER_RFAIL":return Object(Re.a)(Object(Re.a)({},e),{},{userOrdersLoading:!1,userOrdersError:t.payload});case"ORDERS_BYUSER_RESET":return Object(Re.a)(Object(Re.a)({},e),{},{userOrdersLoading:!1,userOrders:[],userOrdersError:null});default:return e}},Be={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},Fe=Object(Te.combineReducers)({productList:Ue,productDetails:we,cart:xe,user:Ne,order:Ge}),Me=[Pe.a],qe=Object(Te.createStore)(Fe,Be,Object(De.composeWithDevTools)(Te.applyMiddleware.apply(void 0,Me)));c.a.render(r.a.createElement(g.a,{store:qe},r.a.createElement(Ae,null)),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.59357f52.chunk.js.map